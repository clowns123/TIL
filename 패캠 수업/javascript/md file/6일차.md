# 12. 함수

수학의 함수는 입력을 받아서 처리를 해서 출력을 한다.

프로그래밍에서 함수는 입력(인수 -> 매개변수)를 받아서 처리(코드 블록)를 해서 출력(return)을 한다.

프로그래밍에서는 함수 선언을 해야 함수 호출을 할 수 있다. 하지만 반대로 함수 호출을 할려고 함수 선언을 할 필요 없이 가져다 쓸 수 있다.



```javascript
// f(x, y) = x + y
function add(x, y) {
  return x + y;
}

// f(2, 5) = 7
add(2, 5); // 7
```



함수는 호출될때만 메모리에 적재되고 호출이 끝나면 사라진다.

이때 함수를 만든 방법은 함수 리터럴이다. 하지만 브라우저 콘솔에 찍어주면 undefined이다. 그러면 표현식이 아닌 문인가 싶지만 변수에 할당 할 수 있다. 그러면 표현식인 문인데 대체 뭐가 진짜일까?

함수 리터럴은 중의적 표현이다. 규칙이 존재하는데 위처럼 쓸경우에는 var (함수이름)으로 함수 선언문으로 평가하기 때문에 표현식이 아닌 문이고 변수에 할당할 때 사용할려면 표현식인 문이 된다. 이때 함수 리터럴의 경우에는 함수 이름을 생략이 가능하다.



```javascript
console.log(add1);	// [Function: add1]
console.log(add2);	// undefined

//기명 함수 리터럴은 2가지 해석이 가능
// 함수 선언문(함수 선언문은 함수 이름을 생략 불가)
function add1(x, y) {
  return x + y;
}
// 함수 표현식(함수 표현식은 함수 이름 생략 가능)
var add2 = function add2(x, y) {
  return x + y;
}
// 무명 함수 리터럴은 무조건 함수 표현식이다.
var add3 = function(x, y) {
  return x + y;
}

// 아니면 오류이다.
function(x, y) {	//SyntaxError
  return x + y;
}
```

> 화살표 함수는 일반 함수와 다르고 중요하기 때문에 나중에 따로 빼서 공부한다.



## 인수

인수가 많으면 많은걸 무시하고 적으면 undefined로 한다. 또한 타입을 고려하지 않는다.

이때 적을때 undefined가 들어가지 않도록 초기화 작업을 하고 타입을 확인 한 후 throw를 던져줘야 한다.



## 에러

try...catch로 오류를 잡을 수 있고 throw로 오류를 던질 수 있다.

단 try로 못잡는 에러가 있다. 그것은 비동기 에러



## 가변 인자

arguments 객체 메소드를 사용한다. 화살표 함수는 안된다. <- 단 이건 비표준이다.

또는 ...인 스프레드 문법을 사용한다. <- 이거나 사용하자

> 유사 배열 객체(ES6에서는 iterator라 부름)

이런 함수를 가변 인자 함수라 한다.



## 매개변수의 최대 개수

매개 변수는 최대한 적은게 좋다. 0개가 최고다

함수를 만들 때는 쓰는 사람을 고려하자

함수를 만들 때 매개 변수가 많아지면 더 작게 쪼갤 수 있나 다시 한번 생각해보자

함수 이름을 짓기 어려우면 다시 생각해보자



## return

만약 함수에 return을 하지 않으면 undefined를 return을 한다.

return을 만나면 함수를 종료한다.



## 객체를 인수로

만약 객체를 인수로 줄 때  외부에서 사용할 일이 없으면 함수를 호출할때 객체를 줘야 한다.





## 순수 함수와 비순수 함수

순수 함수는 변수를 변경시키지 않고

비순수 함수는 변수를 변경시킨다.

즉 같은 함수를 여러번 호출해서 같은 값을 호출한다는 보장이 있으면 순수 아니면 비순수이다.

그렇기 때문에 순수 함수는 예측값을 알기 쉽지만 비순수 함수는 예측값이 알기 어렵다.

이렇듯 함수형 프로그래밍 기법은 순수 함수를 지향한다.



## 즉시 실행 함수

정의 되자마자 실행한다.

```javascript
// 익명 즉시 실행 함수
// 함수 리터럴
(function () {
  var a = 3;
  var b = 5;
  return a * b;
}());
```

모듈이라는 개념이 없던 옛날에는 a와 b라는 변수를 지역변수로 사용할 수 있기 때문에 자바스크립트에서는 전역 변수를 사용하면 안되므로 사용하였다.

이제는 모듈이라는 개념이 생겨서 그런 용도로는 사용할 필요가 없다. 모듈이란 파일 스코프를 가지게 만들 수 있다. 이걸 사용하기 위해 웹팩을 사용한다.

다른 용도로는 클로저를 만들기 위해 쓴다. 이게 주 용도이다. 하지만 지금은 모르니 2가지 방법이 있다는 것만 알자



## 재귀 함수

함수가 자신을 호출하는 것을 재귀 호출이라 하고 함수를 재귀 함수라 한다.

```javascript
function fact(n){
    if(n <= 1) return fact(n);
    return n * fact(n - 1);
}
```

이해 안가면 위의 코드를 외워라



## 중첩 함수

함수 안에 함수를 선언한다.

```javascript
//외부 함수
function outer() {
  var x = 1;

  // 중첩 함수
  function inner() {
    var y = 2;
    // 외부 함수의 변수를 참조할 수 있다.
    console.log(x + y); // 3
  }

  inner();
}

outer();
```

함수 내부에서 재사용을 막기 위해서 쓴다.



## 콜백 함수 & 고차 함수

인수로 보내는 함수를 콜백 함수

매개 변수로 받아서 사용하는 함수를 고차 함수

고차 함수는 필요한 다른 함수를 외부에서 처리하고 매개변수로 받아서 사용한다.

콜백 함수는 매우 중요하다.

