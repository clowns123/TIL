<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Toast UI</title>
  <style>
  @import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400);

  body {
    font-family: 'Open Sans';
    font-weight: 300;
    background-color: #D6E1E5;
  }

  h1 {
    color: #DB5B33;
    font-weight: 300;
    text-align: center;
  }

  .toast-container{
    position: absolute;
    right: 0;
    bottom: 0;
    max-height: 100vh;
    width: 30vw;
    overflow: hidden;
  }
  .toast-container div{
    background-color: #999;
    width: 30vw;
    position: relative;
    right: -30vw;    
    transition: all 1s;
  }
  .toast-container div.active{
    right: 0vw;    
    transition: all 1s;
  }

  /* CSS 작성 바랍니다. */
  </style>
</head>
<body>
  <h1>JavaScript Toast</h1>

  <button class="show-success">Success</button>
  <button class="show-error">Error</button>
  <button class="show-warning">Warning</button>

  <div class="toast-container">
  </div>
  <script>
    const showSuccess = document.querySelector('.show-success')
    const showError = document.querySelector('.show-error')
    const showWarning = document.querySelector('.show-warning')
    const toastContainer = document.querySelector('.toast-container')

    // state
    let num = 0

    // function
    function render(toast){
      let html = '';
      html = `
      <div id='${toast.id}'>
        <button>X</button>
        <h2>${toast.hedaer}</h1>
        <p>${toast.content}</p>
      </div>
      `
      toastContainer.innerHTML += html
    }

    function numId(){
      return num++
    }
    function delElement(e){
      toastContainer.removeChild(e.target.parentNode)
    }
    
    // Event
    function addSuccess(e){
      const toast = {id: numId(), hedaer:'Well done!! 0' ,content:'This is a succes alter'}

      const divElement = document.createElement('div')
      divElement.id = toast.id

      const delBtn = document.createElement('button')
      delBtn.textContent = 'X'
      delBtn.addEventListener('click', delElement)

      const h2Element = document.createElement('h2')
      h2Element.textContent = toast.hedaer

      const pElement = document.createElement('p')
      pElement.textContent = toast.content

      divElement.appendChild(delBtn)
      divElement.appendChild(h2Element)
      divElement.appendChild(pElement)
      toastContainer.appendChild(divElement)
      setTimeout(() => {
        divElement.classList.add('active')
      }, 10)
      setTimeout(() => {
        divElement.classList.remove('active')
        setTimeout(() =>{
          if(document.getElementById(`${toast.id}`)) toastContainer.removeChild(divElement)
        }, 1000)
      }, 2000)
    }

    function addError(e){
      let toast = {id: numId(), hedaer:'Check it out 1' ,content:'This is a error alter'}
      
      const divElement = document.createElement('div')
      divElement.id = toast.id

      const delBtn = document.createElement('button')
      delBtn.textContent = 'X'
      delBtn.addEventListener('click', delElement)

      const h2Element = document.createElement('h2')
      h2Element.textContent = toast.hedaer

      const pElement = document.createElement('p')
      pElement.textContent = toast.content

      divElement.appendChild(delBtn)
      divElement.appendChild(h2Element)
      divElement.appendChild(pElement)
      toastContainer.appendChild(divElement)
      setTimeout(() => {
        divElement.classList.add('active')
      }, 10)
      setTimeout(() => {
        divElement.classList.remove('active')
        setTimeout(() =>{
          if(document.getElementById(`${toast.id}`)) toastContainer.removeChild(divElement)
        }, 1000)
      }, 2000)
    }

    function addWarning(e){
      let toast = {id: numId(), hedaer:'Check it out 2' ,content:'This is a Warning alter'}
      
      const divElement = document.createElement('div')
      divElement.id = toast.id

      const delBtn = document.createElement('button')
      delBtn.textContent = 'X'
      delBtn.addEventListener('click', delElement)

      const h2Element = document.createElement('h2')
      h2Element.textContent = toast.hedaer

      const pElement = document.createElement('p')
      pElement.textContent = toast.content

      divElement.appendChild(delBtn)
      divElement.appendChild(h2Element)
      divElement.appendChild(pElement)
      toastContainer.appendChild(divElement)
      setTimeout(() => {
        divElement.classList.add('active')
      }, 10)
      setTimeout(() => {
        divElement.classList.remove('active')
        setTimeout(() =>{
          if(document.getElementById(`${toast.id}`)) toastContainer.removeChild(divElement)
        }, 1000)
      }, 2000)
    }

    
    // init
    function init(){
      showSuccess.addEventListener('click', addSuccess)
      showError.addEventListener('click', addError)
      showWarning.addEventListener('click', addWarning)
    }
    init()
  </script>
</body>
</html>