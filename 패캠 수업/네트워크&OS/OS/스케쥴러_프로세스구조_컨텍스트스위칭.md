> 프로세스 구조, 컨텍스트 스위칭, 프로세스 간 통신 방법에 대해 알아보자



# 스케쥴러

스케쥴러는 프로세스를 관리한다. 이때 프로세스를 실행하는 순서를 정하는 것은 스케쥴링 알고리즘이라 한다.

시분할 시스템의 경우는 프로세스의 응답 시간을 가능한 짧게, 멀티 프로그래밍은 cpu 활용도를 최대한 높여서 프로세스 처리 시간을 최대한 빠르게 한다.



# 스케쥴러 알고리즘 종류

## FIFO 스케쥴러

가장 먼저 들어온 것을 처리한다. 실행시간이 긴 프로세스를 실행을하면 뒤에 프로세스들은 대기해야 한다.



## 최단 작업 우선(SJF) 스케쥴러

가장 프로세스 실행시간이 짧은 프로세스부터 실행한다. 하지만 실행시간이 긴 프로세스는 무한정 대기하는 일이 발생할 수 있다.

> RTOS(리얼타임), GPOS(일반적인)가 있다. GPOS가 우리가 흔이 쓰는 Window나 Linux 등이다. 



## 우선순위 기반 스케쥴러

- Priorty-Based 스케쥴러
  - 정적 우선순위 : 프로세스 우선순위를 미리 지정
  - 동적 우선순위 : 스케쥴러가 상황에 따라 우선순위를 동적을 변경



## Round Robin 스케쥴러

FIFO에서 cpu점유 시간을 지정해서 그동안 끝나지 않으면 다시 큐로 돌아가게 하는 방식



## 프로세스 상태 기반 스케쥴러

running queue, ready queue, block queue를 가지고 스케쥴러를 만든다.

running : 현재 실행 중인 프로세스

ready : 현재 대기 중인 프로세스

block : 특정 이벤트로 인해 대기 중인 프로세스

running에서 일정 시간이 지나도 끝나지 않는 프로세스는 ready에 다시 unshift해준다.



## 정리

- 다양한 기본 스케쥴링 알고리즘 
  - FIFO (FCFS) 스케쥴링 알고리즘 (배치 처리 시스템) 
  - 최단 작업 우선(SJF) 스케쥴링 알고리즘 
  - 우선순위 기반 스케쥴링 알고리즘 
    - 정적 우선순위, 동적 우선순위 
  - Round Robin 스케쥴링 알고리즘 
    - 시분할 시스템 
  - 프로세스 상태 기반 스케쥴링 알고리즘 
    - 멀티 프로그래밍

---

DB종류는 sql, nosql, 인 메모리 db가 있다.



# 프로세스 구조

- 프로세스 (process) 는 일반적으로 어떻게 구성되어 있을까? 
  - text(CODE): 코드 
  - data: 변수/초기화된 데이터 
  - stack: 임시 데이터(함수 호출, 로컬 변수등) 
  - heap: 코드에서 동적으로 만들어지는 데이터

- PC + SP : 프로그램 카운터 + 스택 포인터
  - PC : 다음 실행할 코드 주소
  - SP : 스택 최상단 주소

# 컨텍스트 스위칭

- ontext Switching, 컨텍스트 스위칭, 또는 문맥 교환 
  - CPU에 실행할 프로세스를 교체하는 기술 
- PC, SP만 바꿔주면, 프로세스 저장상태를 기반으로 실행 가능

## PCB

프로세스의 다양한 정보들을 가지고 있다.

이때 pc와 sp도 PCB에 있다.

## 컨텍스트 스위칭 세부 동작 

1. 실행 중지할 프로세스 정보를 해당 프로세스의 PCB에 업데이트해서, 메인 메모리에 저장 
2. 다음 실행할 프로세스 정보를 메인 메모리에 있는 해당 PCB 정보(PC, SP)를 CPU의 레지스터에 넣고, 실행56



# 프로세스간 커뮤니케이션

프로세스간 커뮤니케이션 (InterProcess Communication)

- 프로세스는 다른 프로세스의 공간을 접근할 수 없다.



## 프로세스간 통신이 필요한가요?

- 성능을 높이기 위해 여러 프로세스를 만들어서 동시 실행
-  이 때 프로세스간 상태 확인 및 데이터 송수신이 필요



## IPC

IPC (InterProcess Communication)

- 프로세스간에 커뮤니케이션을 해야한다면 어떻게 해야할까? 프로세스간 통신 방법을 제공함 IPC: InterProcess Communcation

- 커널 공간은 공유하게 된다.



## 다양한 IPC 기법

 IPC: InterProcess Communcation 

1. file 사용 
2. Message Queue 
3. Shared Memory 
4. Pipe 
5. Signal 
6. Semaphore 
7. Socket ... 

> 2번부터는 모두 커널 공간을 사용하는 것임