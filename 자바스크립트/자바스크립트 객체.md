# 객체 생성하기

## 객체의 생성

자바스크립트의 객체는 이름과 값을 한 쌍으로 묶은 집합입니다. 이름과 값이 한 쌍을 이룬 것을 프로퍼티라고 하고, 그것의 이름을 프로퍼티 이름 또는 키(key)라고 합니다. 값으로는 모든 데이터 타입의 데이터(원시값, 객체)를 저장할 수 있으며, 함수의 참조를 값으로 가진 프로퍼티는 메서드라는 이름으로 부릅니다. 자바스크립트로 이러한 객체를 생성하려면 다음 세 가지 방법을 사용합니다.

1. 객체 리터럴로 생성하는 방법

```javascript
let card = {suit : "하트", rank : "A"}
```

2. 생성자로 생성하는 방법

```javascript
function Card(suit, rank){
    this.suit = suit;
    this.rank = rank;
}
```

3. Object.create로 생성하는 방법

```javascript
var card = Object.create(Object.prototype, {
    suit:{
        value:"하트",
        writable: ture
    },
    rank:{
        value: "A",
        writable: ture
    }
})
```



## 프로토타입

**생성자 안에서 메서드를 정의하는 방식의 문제점**

생성자 안에서this 뒤에 메서드를 정의하면 그 생성자로 생성한 모든 인스턴스에 똑같은 메서드가 추가됩니다. 따라서 메서드를 포함한 생성자로 인스턴스를 여러 개 생성하면 같은 작업을 하는 메서드를 인스턴스 개수만큼 생성하게 되며 겨롸적으로 그만큼의 메모리를 소비하게 됩니다.

```javascript
function Circle(center, radius) {
  this.center = center;
  this.radius = radius;
  this.area = function() {
    return Math.Pi * this.radius * this.radius;
  };
}

var c1 = new Circle({ x: 0, y: 0 }, 2.0);
var c2 = new Circle({ x: 0, y: 0 }, 2.0);
var c3 = new Circle({ x: 0, y: 0 }, 2.0);
```

이렇듯 총 3개의 객체가 만들어지면 area를 사용하지 않는 객체도 area가 할당되면서 메모리를 낭비하게 된다.



**프로토타입 객체**

자바스크립트에서는 함수도 객체이므로 함수 객체가 기본적으로 prototype 프로퍼티를 갖고 있습니다.

```javascript
function f(){};
console.log(f.prototype); //Object{}
```

이처럼 함수의 prototype 프로퍼티는 기본적으로 빈 객체를 가르킨다.



프로토타입 객체의 프로퍼티는 생성자로 생성한 모든 인스턴스에서 그 인스턴스의 프로퍼티처럼 사용할 수 있다.

> 현재 생성된 객체를 인스턴스라 한다.

```javascript
function f() {}
f.prototype.porp = "test";
var obj = new f();	
console.log(obj.porp);			//test, instance value
console.log(f.prototype.porp);	//test	prototype value
//함수와 함수로 만든 객체 둘 다 prototype를 가진다.
```

이렇듯 함수에 프로토타입을 정의하면 함수를 사용하여 만든 객체도 프로토타입을 참조할 수 있다. 이렇게 만들면 메모리에 있는 값을 참조하기 때문에 메모리를 아낄 수 있다.



# 프로토타입 상속

## 상속

상속이란 일반적으로 특정 객체가 다른 객체로부터 기능을 이어받는 것을 말한다.

c++, java처럼 클래스를 이용하는 객체 지향 언어에서는 객체의 설계도라고 할 수 있는 클래스를 상속 할 수 있다.

반면 자바스크립트는 클래스가 아닌 개체를 상속하기 때문에 상속이란 프로토타입 체인이라 부르는 객체의 자료 구조로 구현되어 있고 프로토타입 상속이라 부른다.

## 상속을 하는이유

상속을 하면 이미 정의된 프로퍼티와 메서드의 코드를 재사용할 수 있고 새로운 기능을 추가해서 확장된 객체를 만들 수도 있다. 중복 코드를 작성하지 않아도 되니 유지보수가 쉬워진다.



## 프로토타입 체인

**내부 프로퍼티[[Prototype]]**

모든 객체는 내부 프로퍼티를 가지고 있다.

